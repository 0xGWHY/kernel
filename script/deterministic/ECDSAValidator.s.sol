pragma solidity ^0.8.0;

import "./DeterministicDeploy.s.sol";

library ECDSAValidatorDeploy {
    address constant EXPECTED_ECDSA_VALIDATOR_ADDRESS = 0x93489F2C5E57d7fcc8e047503defA6219bF1F7C9;
    bytes constant VALIDATOR_CODE =
        hex"0000000000000000000000000000000000000000000000000000000000000000608060405234801561001057600080fd5b50610709806100206000396000f3fe6080604052600436106100555760003560e01c80630c9595561461005a57806320709efc1461006f578063333daf92146100c25780633a871cdd146100f05780638fc925aa146101035780639ea9bd5914610132575b600080fd5b61006d610068366004610510565b610180565b005b34801561007b57600080fd5b506100a561008a36600461056e565b6000602081905290815260409020546001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156100ce57600080fd5b506100e26100dd366004610589565b610200565b6040519081526020016100b9565b6100e26100fe3660046105d5565b610323565b61006d610111366004610510565b505033600090815260208190526040902080546001600160a01b0319169055565b34801561013e57600080fd5b5061017061014d366004610629565b5050336000908152602081905260409020546001600160a01b0391821691161490565b60405190151581526020016100b9565b600061018f6014828486610663565b6101989161068d565b3360008181526020819052604080822080546001600160a01b0319811660609690961c95861790915590519394506001600160a01b0316928492849290917f381c0d11398486654573703c51ee8210ce9461764d133f9f0e53b6a5397053319190a450505050565b33600090815260208181526040808320548151601f86018490048402810184019092528482526001600160a01b031691610256918791879087908190840183828082843760009201919091525061043692505050565b6001600160a01b0316816001600160a01b03160361027857600091505061031c565b60006102a9866020527b19457468657265756d205369676e6564204d6573736167653a0a3332600052603c60042090565b905060006102ed8287878080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061043692505050565b9050806001600160a01b0316836001600160a01b031614610314576001935050505061031c565b600093505050505b9392505050565b6000808080610335602088018861056e565b6001600160a01b03908116825260208201929092526040016000908120549091169150610387856020527b19457468657265756d205369676e6564204d6573736167653a0a3332600052603c60042090565b90506103d58161039b6101408901896106c2565b8080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061043692505050565b6001600160a01b0316826001600160a01b0316036103f85760009250505061031c565b61040a8561039b6101408901896106c2565b6001600160a01b0316826001600160a01b03161461042d5760019250505061031c565b50509392505050565b604051600190836000526020830151604052604083510361047257604083015160ff81901c601b016020526001600160ff1b0316606052610498565b604183510361049357606083015160001a6020526040830151606052610498565b600091505b6020600160806000855afa5191503d6104b957638baa579f6000526004601cfd5b600060605260405292915050565b60008083601f8401126104d957600080fd5b50813567ffffffffffffffff8111156104f157600080fd5b60208301915083602082850101111561050957600080fd5b9250929050565b6000806020838503121561052357600080fd5b823567ffffffffffffffff81111561053a57600080fd5b610546858286016104c7565b90969095509350505050565b80356001600160a01b038116811461056957600080fd5b919050565b60006020828403121561058057600080fd5b61031c82610552565b60008060006040848603121561059e57600080fd5b83359250602084013567ffffffffffffffff8111156105bc57600080fd5b6105c8868287016104c7565b9497909650939450505050565b6000806000606084860312156105ea57600080fd5b833567ffffffffffffffff81111561060157600080fd5b8401610160818703121561061457600080fd5b95602085013595506040909401359392505050565b60008060006040848603121561063e57600080fd5b61064784610552565b9250602084013567ffffffffffffffff8111156105bc57600080fd5b6000808585111561067357600080fd5b8386111561068057600080fd5b5050820193919092039150565b6bffffffffffffffffffffffff1981358181169160148510156106ba5780818660140360031b1b83161692505b505092915050565b6000808335601e198436030181126106d957600080fd5b83018035915067ffffffffffffffff8211156106f457600080fd5b60200191503681900382131561050957600080fd";

    function deploy() internal returns (address) {
        DeterministicDeploy.checkDeploy("ECDSAValidator", EXPECTED_ECDSA_VALIDATOR_ADDRESS, VALIDATOR_CODE);
        return EXPECTED_ECDSA_VALIDATOR_ADDRESS;
    }
}
